type PageInfo {
  hasPreviousPage: Boolean!
  hasNextPage: Boolean!
  startCursor: String
  endCursor: String
}

type CustomerEmail {
  privateEmail: String @field(name : "EMAIL")
  workEmail: String! @field(name : "EMAIL")
}

input CustomerInput {
  "Optional"
  firstName: String @field(name: "FIRST_NAME")
  "Mandatory"
  lastName: String! @field(name: "LAST_NAME")
  email: CustomerInputEmail
}

input CustomerInputEmail {
  privateEmail: String @field(name : "EMAIL")
  workEmail: String! @field(name : "EMAIL")
}

type Customer implements Node @table {
  id: ID!
  firstName: String! @field(name: "FIRST_NAME")
  lastName: String! @field(name: "LAST_NAME")
  email: CustomerEmail
}

type CustomerConnection {
  edges: [CustomerConnectionEdge]
  pageInfo: PageInfo
  nodes: [Customer!]!
}

type CustomerConnectionEdge {
  cursor: String
  node: Customer
}

type Query {
  customersNoPage(active: String!, storeId: ID! @field(name : "STORE_ID"), pin: CustomerInput): Customer
  customersWithPage(active: String!, storeIds: [Int!] @field(name : "STORE_ID"), pin: CustomerInput, first: Int = 100, after: String): CustomerConnection!
  films(releaseYear: String! @field(name : "RELEASE_YEAR"), first: Int = 100, after: String): QueryFilmConnection
}

type QueryFilmConnection {
  edges: [QueryFilmConnectionEdge]
  pageInfo: PageInfo
  nodes: [Film!]!
}

type QueryFilmConnectionEdge {
  cursor: String
  node: Film
}

type FilmCategory implements Node @table(name: "FILM_CATEGORY") {
  id: ID!
  name: String! @field(name: "NAME") @reference(table: "CATEGORY")
}

input OriginalCategoryInput {
  lastUpdated: DateTime! @field(name : "LAST_UPDATED")
  name: Name! @field(name: "NAME") @reference(table: "CATEGORY")
}

input OriginalCategoryInputWithOneField {
  lastUpdated: DateTime! @field(name : "LAST_UPDATED")
}

input OriginalCategoryInputNested {
  originalCategoryField: OriginalCategoryInputWithOneField!
  name: Name! @field(name: "NAME") @reference(table: "CATEGORY")
}

type Film implements Node @table {
  id: ID!
  categories(categoryIn: OriginalCategoryInput!): [FilmCategory!]! @splitQuery
  categoriesForInputList(categoryInList: [OriginalCategoryInput!]): [FilmCategory!]! @splitQuery
  categoriesForMixOfListAndSingleInput(categoryIn: OriginalCategoryInput!, categoryInList: [OriginalCategoryInput!]): [FilmCategory!]! @splitQuery
  categoriesForInputWithOneFieldList(categoryInListOneField: [OriginalCategoryInputWithOneField!]): [FilmCategory!]! @splitQuery
  categoriesForInputWithNestedFieldList(categoryInListNestedField: [OriginalCategoryInputNested!]): [FilmCategory!]! @splitQuery
}

type Name {
  name: String!
}
