extend type Query {
    reachableByEmail: [PersonWithEmail] @asConnection
}

interface PersonWithEmail {
    email: String
    address: Address @splitQuery
}

type StaffWithEmail implements PersonWithEmail @table(name: "STAFF") {
    email: String
    address: Address @splitQuery
    store: Store @splitQuery @reference(path: [{key: "STAFF__STAFF_STORE_ID_FKEY"}])
}

type CustomerWithEmail implements PersonWithEmail @table(name: "CUSTOMER") {
    name: CustomerName
    email: String
    address: Address @splitQuery
}

extend type Payment {
    staffAndCustomers(email: String): [PersonWithEmail] @splitQuery
    staffAndCustomersPaginated: [PersonWithEmail] @asConnection @splitQuery
}

extend type Film {
    actorsAndCategories: [FilmActorAndFilmCategoryUnion] @asConnection
}

union FilmActorAndFilmCategoryUnion = FilmActor | FilmCategory
